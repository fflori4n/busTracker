<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="A new Flutter project.">

  <!-- iOS meta tags & icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="mapTest">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/png" href="favicon.png"/>

  <title>mapTest</title>
  <link rel="manifest" href="manifest.json">
</head>
<body>
<!-- Splash screen ***********************************-->
<style>
.center {
  display: block;
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  margin: auto;
  width: 35vh;
}
.center2 {
  display: block;
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  margin: auto;
  width: 49vh;
}
.doodles{
	display: block;
  	position: absolute;
  	left: 0;
  	right: 0;
  	top: 4vh;
  	bottom: 0;
  	margin: auto;

	height: 13vh;
}
.object{
	display: block;
  	position: absolute;
  	left: 0;
  	right: 20vh;
  	top: 14vh;
  	bottom: 0;
  	margin: auto;

	height: 13vh;
}
.lamp{
	display: block;
  	position: absolute;
  	left: 0;
  	right: 0;
  	top: 14vh;
  	bottom: 0;
  	margin: auto;

	height: 13vh;
}
.stat{
	display: block;
  	position: absolute;
  	left: 20vh;
  	right: 0;
  	top: 14vh;
  	bottom: 0;
  	margin: auto;

	height: 13vh;
}
.pers{
	margin-top: 51vh;
	margin-right: -1.5vh;
	margin-left: -1.5vh;
	height: 13vh;
}

</style>
<img src= "assets/splash/splashLogo.svg", class= "center"></img>
<div class= "center">
  <img src= "assets/splash/obj1.svg", class= "doodle object", id="obj"></img>
  <img src= "assets/splash/lamp1.svg", class= "doodle lamp", id="lamp"></img>
  <img src= "assets/splash/stat3.svg", class= "doodle stat", id="stat"></img>

</div>
<div class= "center2">
  <img src= "assets/splash/persBlank.svg", class='pers' id='p0'></img>
  <img src= "assets/splash/persBlank.svg", class='pers' id='p1'></img>
  <img src= "assets/splash/persBlank.svg", class='pers' id='p2'></img>
  <img src= "assets/splash/persBlank.svg", class='pers' id='p3'></img>
  <img src= "assets/splash/persBlank.svg", class='pers' id='p4'></img>
  <img src= "assets/splash/persBlank.svg", class='pers' id='p5'></img>
  <img src= "assets/splash/persBlank.svg", class='pers' id='p6'></img>
  <img src= "assets/splash/persBlank.svg", class='pers' id='p7'></img>
  <img src= "assets/splash/persBlank.svg", class='pers' id='p8'></img>
  <img src= "assets/splash/persBlank.svg", class='pers' id='p9'></img>
  <img src= "assets/splash/persBlank.svg", class='pers' id='p10'></img>
  <img src= "assets/splash/persBlank.svg", class='pers' id='p11'></img>
</div>

<script>
	function shuffle(array) {
	// from : https://stackoverflow.com/questions/18806210/generating-non-repeating-random-numbers-in-js -- Ben Jackson
    var i = array.length,
        j = 0,
        temp;
    while (i--) {
        j = Math.floor(Math.random() * (i+1));
        // swap randomly chosen element with current element
        temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }
    return array;
	}

	var ranNums = shuffle([0,1,2,3,4,5,6,7,8,9,10,11]);

	var numOfPeople = 0;
	var hours = new Date().getHours();

	if( hours == 0){
		numOfPeople = 1 + Math.floor(Math.random() * 3);	// 0 - 2
	}
	else if( hours == 7 || hours == 8 || hours == 15 || hours == 16){
		numOfPeople = 8 + Math.floor(Math.random() * 5);	// 6 - 12
	}
	else if( hours > 5){
		numOfPeople = 2 + Math.floor(Math.random() * 7);	// 0 - 2
	}
	//window.alert(numOfPeople);
	document.getElementById("obj").src = "assets/splash/obj" + Math.floor(Math.random() * 4) + ".svg";
	document.getElementById("lamp").src = "assets/splash/lamp" + Math.floor(Math.random() * 4) + ".svg";
	document.getElementById("stat").src = "assets/splash/stat" + Math.floor(Math.random() * 4) + ".svg";

	var i;
	for (i = 0; i < numOfPeople; i++) {
		document.getElementById("p" + Math.floor(Math.random() * 12)).src = "assets/splash/pers" + ranNums[i] + ".svg";
	}

</script>
<!-- splash end **************************************-->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function () {
        navigator.serviceWorker.register('flutter_service_worker.js');
      });
    }
  </script>
  <script src="main.dart.js" type="application/javascript"></script>

</body>
</html>
